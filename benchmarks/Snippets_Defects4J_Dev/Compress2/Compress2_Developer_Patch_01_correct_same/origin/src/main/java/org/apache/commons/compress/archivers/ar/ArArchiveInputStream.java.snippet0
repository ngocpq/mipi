public int read() throws IOException {
        final int ret = input.read();
        offset += (ret > 0 ? 1 : 0);
        return ret;
    }